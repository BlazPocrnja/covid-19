{"version":3,"sources":["globeChart.js","growthLineChart.js","confirmedAreaChart.js","App.js","myMath.js","serviceWorker.js","index.js"],"names":["am4core","am4themes_animated","am4themes_spiritedaway","GlobeChart","props","data","onCountryClick","useState","polygonSeriesState","setPolygonSeries","covidSeriesState","setCovidSeries","useEffect","chart","am4maps","geodata","am4geodata_worldLow","e","raiseCriticalError","Error","label","createChild","text","fontSize","align","valign","background","cornerRadius","padding","marginLeft","marginBottom","strokeOpacity","fillOpacity","dataSource","url","urlTarget","marginTop","projection","Orthographic","panBehavior","zoomControl","homeButton","events","on","goHome","icon","width","path","parent","insertBefore","plusButton","backgroundSeries","mapPolygons","template","polygon","fill","deltaLongitude","deltaLatitude","adapter","add","fitToRange","polygonSeries","series","push","useGeodata","calculateVisualCenter","tooltip","nonScalingStroke","stroke","propertyFields","id","tooltipPosition","event","target","dummyData","isHover","dataItem","dataContext","name","hs","states","create","properties","colors","getIndex","brighten","graticuleSeries","mapLines","fitExtent","covidSeries","autoTextColor","dy","covidTemplate","tooltipText","split","hs2","each","mapPolygon","count","country","length","confirmed","multiPolygon","visualLongitude","visualLatitude","Math","max","log","LN10","style","height","backgroundColor","GrowthLineChart","trendLine","handleBrushChange","startIndex","setStartIndex","endIndex","setEndIndex","mergedData","setMergedData","map","d","trend","find","t","date","value","undefined","margin","top","right","left","bottom","dataKey","offset","position","tickFormatter","x","Date","toLocaleDateString","angle","strokeDasharray","labelFormatter","type","onChange","ConfirmedAreaChart","estimatedData","yAxisLabel","x1","y1","x2","y2","stopColor","stopOpacity","Content","Layout","Sider","Title","Typography","App","setData","tableData","setTableData","growthData","setGrowthData","growthTrend","setGrowthTrend","totalData","setTotalData","estimatedTotal","setEstimatedTotal","dailyCases","setDailyCases","estimatedDailyCases","setEstimatedDailyCases","selectedCountry","setSelectedCountry","searchText","setSearchText","fetch","then","response","json","fixedData","key","i","currDate","getTime","prevNewCases","currNewCases","growthRate","debounce","x_values","y_values","lr","values_x","values_y","n","sum_x","sum_y","sum_xy","sum_xx","sum_yy","slope","pow","sqrt","linearRegression","estimate","intercept","selectedData","currentDate","newCases","totalCases","nextDate","setDate","getDate","getColumnSearchProps","dataIndex","placeholder","searchInput","handleSearch","selectedKeys","confirm","handleReset","clearFilters","filterDropdown","setSelectedKeys","ref","node","onPressEnter","display","onClick","SearchOutlined","size","marginRight","filterIcon","filtered","color","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","setTimeout","select","render","highlightStyle","searchWords","autoEscape","textToHighlight","columns","title","sorter","a","b","localeCompare","defaultSortOrder","deaths","recovered","bodyStyle","overflow","centered","footer","onCancel","span","level","textAlign","theme","pagination","scroll","y","onRow","rowIndex","Boolean","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.064dc9d3.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4maps from \"@amcharts/amcharts4/maps\";\r\nimport am4geodata_worldLow from \"@amcharts/amcharts4-geodata/worldLow\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport am4themes_spiritedaway from \"@amcharts/amcharts4/themes/spiritedaway\";\r\n\r\nam4core.useTheme(am4themes_animated);\r\nam4core.useTheme(am4themes_spiritedaway);\r\n\r\nconst GlobeChart = (props) => {\r\n\tconst { data, onCountryClick } = props\r\n\tconst [polygonSeriesState, setPolygonSeries] = useState()\r\n\tconst [covidSeriesState, setCovidSeries] = useState()\r\n\r\n\tuseEffect(() => {\r\n\t\tlet chart = am4core.create(\"globechartdiv\", am4maps.MapChart);\r\n\r\n\t\ttry {\r\n\t\t\t\tchart.geodata = am4geodata_worldLow;\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t\tchart.raiseCriticalError(new Error(\"Map geodata could not be loaded. Please download the latest <a href=\\\"https://www.amcharts.com/download/download-v4/\\\">amcharts geodata</a> and extract its contents into the same directory as your amCharts files.\"));\r\n\t\t}\r\n\r\n\r\n\t\tlet label = chart.createChild(am4core.Label)\r\n\t\tlabel.text = \"Select a country to view statistics.\";\r\n\t\tlabel.fontSize = 12;\r\n\t\tlabel.align = \"left\";\r\n\t\tlabel.valign = \"bottom\"\r\n\t\tlabel.background = new am4core.RoundedRectangle()\r\n\t\tlabel.background.cornerRadius(10,10,10,10);\r\n\t\tlabel.padding(10,10,10,10);\r\n\t\tlabel.marginLeft = 30;\r\n\t\tlabel.marginBottom = 30;\r\n\t\tlabel.background.strokeOpacity = 0.3;\r\n\t\tlabel.background.fillOpacity = 0.6;\r\n\r\n\t\tlet dataSource = chart.createChild(am4core.TextLink)\r\n\t\tdataSource.text = \"Data source: github.com/pomber/covid19\";\r\n\t\tdataSource.fontSize = 12;\r\n\t\tdataSource.align = \"left\";\r\n\t\tdataSource.valign = \"top\"\r\n\t\tdataSource.url = \"https://github.com/pomber/covid19\"\r\n\t\tdataSource.urlTarget = \"_blank\";\r\n\t\tdataSource.padding(10,10,10,10);\r\n\t\tdataSource.marginLeft = 30;\r\n\t\tdataSource.marginTop = 30;\r\n\r\n\t\t// Set projection\r\n\t\tchart.projection = new am4maps.projections.Orthographic();\r\n\t\tchart.panBehavior = \"rotateLongLat\";\r\n\t\tchart.padding(20,20,20,20);\r\n\r\n\t\t// Add zoom control\r\n\t\tchart.zoomControl = new am4maps.ZoomControl();\r\n\r\n\t\tlet homeButton = new am4core.Button();\r\n\t\thomeButton.events.on(\"hit\", function(){\r\n\t\t\tchart.goHome();\r\n\t\t});\r\n\r\n\t\thomeButton.icon = new am4core.Sprite();\r\n\t\thomeButton.padding(7, 5, 7, 5);\r\n\t\thomeButton.width = 30;\r\n\t\thomeButton.icon.path = \"M16,8 L14,8 L14,16 L10,16 L10,10 L6,10 L6,16 L2,16 L2,8 L0,8 L8,0 L16,8 Z M16,8\";\r\n\t\thomeButton.marginBottom = 10;\r\n\t\thomeButton.parent = chart.zoomControl;\r\n\t\thomeButton.insertBefore(chart.zoomControl.plusButton);\r\n\r\n\t\tchart.backgroundSeries.mapPolygons.template.polygon.fillOpacity = 0.1;\r\n\t\tchart.backgroundSeries.mapPolygons.template.polygon.fill = am4core.color(\"#ffffff\");\r\n\t\tchart.deltaLongitude = 20;\r\n\t\tchart.deltaLatitude = -20;\r\n\r\n\t\t// limits vertical rotation\r\n\t\tchart.adapter.add(\"deltaLatitude\", function(deltaLatitude){\r\n\t\t\t\treturn am4core.math.fitToRange(deltaLatitude, -90, 90);\r\n\t\t})\r\n\r\n\t\t// Create map polygon series\r\n\t\tlet polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n\t\tpolygonSeries.useGeodata = true;\r\n\r\n\t\tpolygonSeries.calculateVisualCenter = true;\r\n\t\tpolygonSeries.tooltip.background.fill = am4core.color(\"#47c78a\");\r\n\t\tpolygonSeries.tooltip.background.fillOpacity = 0.8;\r\n\t\tpolygonSeries.tooltip.background.cornerRadius = 20;\r\n\r\n\t\tlet template = polygonSeries.mapPolygons.template;\r\n\t\ttemplate.nonScalingStroke = true;\r\n\t\ttemplate.fill = am4core.color(\"#47c78a\");\r\n\t\ttemplate.stroke = am4core.color(\"#454a58\");\r\n\r\n\t\tpolygonSeries.calculateVisualCenter = true;\r\n\t\ttemplate.propertyFields.id = \"id\";\r\n\t\ttemplate.tooltipPosition = \"fixed\";\r\n\t\ttemplate.fillOpacity = 1;\r\n\r\n\t\ttemplate.events.on(\"over\", function (event) {\r\n\t\t\tif (event.target.dummyData) {\r\n\t\t\t\tevent.target.dummyData.isHover = true;\r\n\t\t\t}\r\n\t\t})\r\n\t\ttemplate.events.on(\"out\", function (event) {\r\n\t\t\tif (event.target.dummyData) {\r\n\t\t\t\tevent.target.dummyData.isHover = false;\r\n\t\t\t}\r\n\t\t})\r\n\t\ttemplate.events.on(\"hit\", function (event) {\r\n\t\t\tonCountryClick(event.target.dataItem.dataContext.name)\r\n\t\t})\r\n\r\n\t\tlet hs = polygonSeries.mapPolygons.template.states.create(\"hover\");\r\n\t\ths.properties.fillOpacity = 1;\r\n\t\ths.properties.fill = chart.colors.getIndex(0).brighten(-0.5)\r\n\r\n\r\n\t\tlet graticuleSeries = chart.series.push(new am4maps.GraticuleSeries());\r\n\t\tgraticuleSeries.mapLines.template.stroke = am4core.color(\"#fff\");\r\n\t\tgraticuleSeries.fitExtent = false;\r\n\t\tgraticuleSeries.mapLines.template.strokeOpacity = 0.2;\r\n\t\tgraticuleSeries.mapLines.template.stroke = am4core.color(\"#fff\");\r\n\r\n\r\n\t\tlet covidSeries = chart.series.push(new am4maps.MapPolygonSeries())\r\n\t\tcovidSeries.tooltip.background.fillOpacity = 0.8;\r\n\t\tcovidSeries.tooltip.background.cornerRadius = 20;\r\n\t\tcovidSeries.tooltip.autoTextColor = false;\r\n\t\tcovidSeries.tooltip.label.fill = am4core.color(\"#000\");\r\n\t\tcovidSeries.tooltip.dy = -5;\r\n\r\n\t\tlet covidTemplate = covidSeries.mapPolygons.template;\r\n\t\tcovidTemplate.fill = am4core.color(\"#bf7569\");\r\n\t\tcovidTemplate.strokeOpacity = 0;\r\n\t\tcovidTemplate.fillOpacity = 0.75;\r\n\t\tcovidTemplate.tooltipPosition = \"fixed\";\r\n\t\tcovidTemplate.events.on(\"hit\", function (event) {\r\n\t\t\tonCountryClick(event.target.tooltipText.split(\":\")[0])\r\n\t\t})\r\n\r\n\t\tlet hs2 = covidSeries.mapPolygons.template.states.create(\"hover\");\r\n\t\ths2.properties.fillOpacity = 1;\r\n\t\ths2.properties.fill = am4core.color(\"#86240c\");\r\n\r\n\t\tsetPolygonSeries(polygonSeries)\r\n\t\tsetCovidSeries(covidSeries)\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (polygonSeriesState) {\r\n\t\t\tpolygonSeriesState.mapPolygons.each(function (mapPolygon) {\r\n\t\t\t\tlet count = 0\r\n\t\t\t\tlet country = data[mapPolygon.dataItem.dataContext.name]\r\n\t\t\t\tif (country && country.length) count = country[country.length - 1].confirmed;\r\n\t\t\t\r\n\t\t\t\tif (count > 0) {\r\n\t\t\t\t\tlet polygon = covidSeriesState.mapPolygons.create();\r\n\t\t\t\t\tpolygon.multiPolygon = am4maps.getCircle(mapPolygon.visualLongitude, mapPolygon.visualLatitude, Math.max(0.2, Math.log(count) * Math.LN10 / 10));\r\n\t\t\t\t\tpolygon.tooltipText = mapPolygon.dataItem.dataContext.name + \": \" + count;\r\n\t\t\t\t\tmapPolygon.dummyData = polygon;\r\n\t\t\t\t\tpolygon.events.on(\"over\", function () {\r\n\t\t\t\t\t\tmapPolygon.isHover = true;\r\n\t\t\t\t\t})\r\n\t\t\t\t\tpolygon.events.on(\"out\", function () {\r\n\t\t\t\t\t\tmapPolygon.isHover = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tmapPolygon.tooltipText = mapPolygon.dataItem.dataContext.name + \": no data\";\r\n\t\t\t\t\tmapPolygon.fillOpacity = 0.9;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}, [data])\r\n\t\r\n\treturn (\r\n\t\t<div id=\"globechartdiv\" style={{ width: \"100%\", height: \"100%\", backgroundColor: \"#454a58\"}}/>\r\n\t)\r\n}\r\n\r\nexport default GlobeChart;","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Brush,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\n\r\nconst GrowthLineChart = (props) => {\r\n  const { data, trendLine, handleBrushChange } = props\r\n  const [startIndex, setStartIndex] = useState()\r\n  const [endIndex, setEndIndex] = useState()\r\n  const [mergedData, setMergedData] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (data.length >= 30) {\r\n      setStartIndex(data.length - 30)\r\n      setEndIndex(data.length - 1)\r\n\r\n      handleBrushChange({startIndex: data.length - 30, endIndex: data.length - 1})\r\n    }\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    setMergedData(data.map(d => ({ ...d, trend: (trendLine.find(t => t.date === d.date) || { value: undefined }).value })))\r\n  }, [data, trendLine])\r\n\r\n  const onBrushChange = e => {\r\n    setStartIndex(e.startIndex)\r\n    setEndIndex(e.endIndex)\r\n    handleBrushChange(e)\r\n  }\r\n\r\n  return (\r\n    <ResponsiveContainer>\r\n      <LineChart\r\n        data={mergedData}\r\n        margin={{ top: 20, right: 20, left: 20, bottom: 20 }}\r\n      >\r\n        <XAxis\r\n          dataKey=\"date\"\r\n          label={{ value: \"Date\", offset: -80, position: 'insideBottom' }}\r\n          tickFormatter={x => new Date(x).toLocaleDateString()}\r\n        />\r\n        <YAxis\r\n          dataKey=\"value\"\r\n          label={{ value: \"Growth Rate\", angle: -90, position: 'insideLeft' }}\r\n        />\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <Tooltip labelFormatter={t => new Date(t).toLocaleDateString()} />\r\n        <Line\r\n          name=\"Actual\"\r\n          type=\"monotone\" \r\n          dataKey=\"value\" \r\n          stroke=\"#8884d8\"\r\n        />\r\n        <Line\r\n          name=\"Trend\"\r\n          type=\"monotone\" \r\n          dataKey=\"trend\" \r\n          stroke=\"#82ca9d\"\r\n        />\r\n        <Brush\r\n          startIndex={startIndex}\r\n          endIndex={endIndex}\r\n          onChange={onBrushChange}\r\n        />\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n\r\nexport default GrowthLineChart;","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n\tArea,\r\n\tAreaChart,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\n\r\nconst ConfirmedAreaChart = (props) => {\r\n\tconst { data, estimatedData, yAxisLabel  } = props\r\n\tconst [mergedData, setMergedData] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMergedData([...data, ...estimatedData])\r\n\t}, [data, estimatedData])\r\n\r\n  return (\r\n    <ResponsiveContainer>\r\n\t\t\t<AreaChart\r\n\t\t\t\tdata={mergedData}\r\n\t\t\t\tmargin={{ top: 10, right: 30, left: 0, bottom: 0 }}\r\n\t\t\t>\r\n\t\t\t\t<defs>\r\n\t\t\t\t\t<linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n\t\t\t\t\t\t<stop offset=\"5%\" stopColor=\"#8884d8\" stopOpacity={0.8}/>\r\n\t\t\t\t\t\t<stop offset=\"95%\" stopColor=\"#8884d8\" stopOpacity={0}/>\r\n\t\t\t\t\t</linearGradient>\r\n\t\t\t\t\t<linearGradient id=\"colorPv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n\t\t\t\t\t\t<stop offset=\"5%\" stopColor=\"#82ca9d\" stopOpacity={0.8}/>\r\n\t\t\t\t\t\t<stop offset=\"95%\" stopColor=\"#82ca9d\" stopOpacity={0}/>\r\n\t\t\t\t\t</linearGradient>\r\n\t\t\t\t</defs>\r\n\t\t\t\t<XAxis\r\n          dataKey=\"date\"\r\n          label={{ value: \"Date\", offset: -80, position: 'insideBottom' }}\r\n          tickFormatter={x => new Date(x).toLocaleDateString()}\r\n        />\r\n\t\t\t\t<YAxis />\r\n\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\r\n\t\t\t\t<Tooltip labelFormatter={t => new Date(t).toLocaleDateString()} />\r\n\t\t\t\t<Area \r\n\t\t\t\t\tname=\"Actual\"\r\n\t\t\t\t\ttype=\"monotone\" \r\n\t\t\t\t\tdataKey=\"value\" \r\n\t\t\t\t\tstroke=\"#8884d8\" \r\n\t\t\t\t\tfillOpacity={1} \r\n\t\t\t\t\tfill=\"url(#colorUv)\" \r\n\t\t\t\t/>\r\n\t\t\t\t<Area\r\n\t\t\t\t\tname=\"Estimate\"\r\n\t\t\t\t\ttype=\"monotone\" \r\n\t\t\t\t\tdataKey=\"estimate\" \r\n\t\t\t\t\tstroke=\"#82ca9d\" \r\n\t\t\t\t\tfillOpacity={1} \r\n\t\t\t\t\tfill=\"url(#colorPv)\"\r\n\t\t\t\t/>\r\n\t\t\t</AreaChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n\r\nexport default ConfirmedAreaChart;","import React, { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport { Layout, Table, Input, Button, Modal, Row, Col, Typography } from 'antd';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport Highlighter from 'react-highlight-words';\r\nimport GlobeChart from './globeChart';\r\nimport GrowthLineChart from './growthLineChart';\r\nimport ConfirmedAreaChart from './confirmedAreaChart';\r\nimport { linearRegression } from './myMath';\r\nimport { debounce } from 'lodash';\r\n\r\nconst { Content, Sider } = Layout;\r\nconst { Title } = Typography;\r\n\r\nfunction App() {\r\n  const [data, setData] = useState({})\r\n  const [tableData, setTableData] = useState([])\r\n  const [growthData, setGrowthData] = useState([])\r\n  const [growthTrend, setGrowthTrend] = useState([])\r\n  const [totalData, setTotalData] = useState([])\r\n  const [estimatedTotal, setEstimatedTotal] = useState([])\r\n  const [dailyCases, setDailyCases] = useState([])\r\n  const [estimatedDailyCases, setEstimatedDailyCases] = useState([])\r\n  const [selectedCountry, setSelectedCountry] = useState(\"\")\r\n  const [searchText, setSearchText] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://pomber.github.io/covid19/timeseries.json\")\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        let fixedData = {\r\n          ...data,\r\n          \"United States\": data[\"US\"],\r\n          \"South Korea\": data[\"Korea, South\"]\r\n        }\r\n        delete fixedData[\"US\"]\r\n        delete fixedData[\"Korea, South\"]\r\n        setData(fixedData)\r\n      }\r\n      );\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    let tableData = []\r\n    for (let key in data) {\r\n      tableData.push(\r\n        {\r\n          key: key,\r\n          country: key,\r\n          ...data[key][data[key].length - 1]\r\n        }\r\n      )\r\n    }\r\n\r\n    setTableData(tableData)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    if (selectedCountry !== \"\") {\r\n      const totalData = []\r\n      const dailyCases = []\r\n      const growthData = []\r\n      for (let i = 0; i < (data[selectedCountry] || []).length; ++i) {\r\n        let currDate = data[selectedCountry][i].date\r\n        totalData.push({ date: new Date(currDate).getTime(), value: data[selectedCountry][i].confirmed })\r\n\r\n        if (i >= 2) {\r\n          let prevNewCases = data[selectedCountry][i - 1].confirmed - data[selectedCountry][i - 2].confirmed\r\n          let currNewCases = data[selectedCountry][i].confirmed - data[selectedCountry][i - 1].confirmed\r\n          let growthRate = prevNewCases === 0 ? 0 : currNewCases / prevNewCases\r\n          growthData.push({ date: new Date(currDate).getTime(), value: growthRate })\r\n          dailyCases.push({ date: new Date(currDate).getTime(), value: currNewCases })\r\n        }\r\n        else growthData.push({ date: new Date(currDate).getTime(), value: 0 })\r\n      }\r\n\r\n      setTotalData(totalData)\r\n      setDailyCases(dailyCases)\r\n      setGrowthData(growthData)\r\n    }\r\n  }, [selectedCountry])\r\n\r\n  const handleBrushChange = debounce(({ startIndex, endIndex }) => {\r\n    const x_values = []\r\n    const y_values = []\r\n    for (let i = startIndex; i <= endIndex; ++i) {\r\n      x_values.push(growthData[i].date)\r\n      y_values.push(growthData[i].value)\r\n    }\r\n\r\n    const lr = linearRegression(x_values, y_values)\r\n\r\n    const growthTrend = []\r\n    for (let i = startIndex; i <= endIndex; ++i) {\r\n      const estimate = Math.max(lr.slope * growthData[i].date + lr.intercept, 0)\r\n      growthTrend.push({date: growthData[i].date, value: estimate})\r\n    }\r\n\r\n    setGrowthTrend(growthTrend)\r\n\r\n    const estimatedTotal = []\r\n    const estimatedDailyCases = []\r\n    const selectedData = data[selectedCountry]\r\n    const currentDate = new Date(selectedData[endIndex].date);\r\n    let newCases = selectedData[endIndex].confirmed - selectedData[endIndex - 1].confirmed\r\n    let totalCases = selectedData[endIndex].confirmed\r\n\r\n    for (let i = 1; i <= 365; ++i) {\r\n      const nextDate = new Date(currentDate)\r\n      nextDate.setDate(nextDate.getDate() + i)\r\n\r\n      const estimatedGrowthRate = Math.max(lr.slope * nextDate.getTime() + lr.intercept, 0)\r\n      newCases = newCases * estimatedGrowthRate\r\n      totalCases += newCases\r\n\r\n      estimatedDailyCases.push({ date: nextDate.getTime(), estimate: newCases })\r\n      estimatedTotal.push({ date: nextDate.getTime(), estimate: totalCases })\r\n    }\r\n\r\n    setEstimatedDailyCases(estimatedDailyCases)\r\n    setEstimatedTotal(estimatedTotal)\r\n  }, 500)\r\n\r\n  const getColumnSearchProps = (dataIndex, placeholder = dataIndex) => {\r\n    let searchInput = undefined\r\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n      confirm();\r\n      setSearchText(selectedKeys[0])\r\n    };\r\n\r\n    const handleReset = clearFilters => {\r\n      clearFilters();\r\n      setSearchText(\"\")\r\n    };\r\n\r\n    return ({\r\n      filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n        <div style={{ padding: 8 }}>\r\n          <Input\r\n            ref={node => {\r\n              searchInput = node;\r\n            }}\r\n            placeholder={`Search ${placeholder}`}\r\n            value={selectedKeys[0]}\r\n            onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n            onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n          />\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90, marginRight: 8 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </div>\r\n      ),\r\n      filterIcon: filtered => (\r\n        <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />\r\n      ),\r\n      onFilter: (value, record) =>\r\n        record[dataIndex]\r\n          .toString()\r\n          .toLowerCase()\r\n          .includes(value.toLowerCase()),\r\n      onFilterDropdownVisibleChange: visible => {\r\n        if (visible) {\r\n          setTimeout(() => searchInput.select());\r\n        }\r\n      },\r\n      render: text => (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={text.toString()}\r\n        />\r\n      )\r\n    });\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Country',\r\n      dataIndex: 'country',\r\n      sorter: (a, b) => a.country.localeCompare(b.country),\r\n      ...getColumnSearchProps('country', \"countries\"),\r\n    },\r\n    {\r\n      title: 'Confirmed',\r\n      dataIndex: 'confirmed',\r\n      align: \"right\",\r\n      sorter: (a, b) => a.confirmed - b.confirmed,\r\n      defaultSortOrder: \"descend\",\r\n      ...getColumnSearchProps('confirmed'),\r\n    },\r\n    {\r\n      title: 'Deaths',\r\n      dataIndex: 'deaths',\r\n      align: \"right\",\r\n      sorter: (a, b) => a.deaths - b.deaths,\r\n      ...getColumnSearchProps('deaths'),\r\n    },\r\n    {\r\n      title: 'Recovered',\r\n      dataIndex: 'recovered',\r\n      align: \"right\",\r\n      sorter: (a, b) => a.recovered - b.recovered,\r\n      ...getColumnSearchProps('recovered'),\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Layout style={{ height: \"100vh\", width: \"100vw\" }}>\r\n      <Content>\r\n        <Modal\r\n          bodyStyle={{ height: \"95vh\", overflow: 'auto' }}\r\n          width=\"95vw\"\r\n          centered\r\n          visible={selectedCountry !== \"\"}\r\n          footer={null}\r\n          onCancel={() => setSelectedCountry(\"\")}\r\n        >\r\n          <Row style={{ height: \"4%\" }}>\r\n            <Col span={24}>\r\n              <Title level={4} style={{textAlign: \"center\"}}>\r\n                Daily Growth Factor\r\n              </Title>\r\n            </Col>\r\n          </Row>\r\n          <Row style={{ height: \"46%\" }}>\r\n            <Col span={24}>\r\n              <GrowthLineChart\r\n                data={growthData}\r\n                trendLine={growthTrend}\r\n                handleBrushChange={handleBrushChange}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row style={{ height: \"4%\" }}>\r\n            <Col span={12}>\r\n              <Title level={4} style={{textAlign: \"center\"}}>\r\n                Daily Cases\r\n              </Title>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Title level={4} style={{textAlign: \"center\"}}>\r\n                Total Cases\r\n              </Title>\r\n            </Col>\r\n          </Row>\r\n          <Row style={{ height: \"46%\" }}>\r\n            <Col span={12}>\r\n              <ConfirmedAreaChart\r\n                data={dailyCases}\r\n                estimatedData={estimatedDailyCases}\r\n              />\r\n            </Col>\r\n            <Col span={12}>\r\n              <ConfirmedAreaChart\r\n                data={totalData}\r\n                estimatedData={estimatedTotal}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Modal>\r\n        <GlobeChart\r\n          data={data}\r\n          onCountryClick={(country) => setSelectedCountry(country)}\r\n        />\r\n      </Content>\r\n      <Sider\r\n        width=\"35%\"\r\n        theme=\"light\"\r\n      >\r\n        <Table\r\n          size=\"small\"\r\n          columns={columns}\r\n          dataSource={tableData}\r\n          pagination={false}\r\n          scroll={{ y: \"calc(100vh - 39px)\" }}\r\n          onRow={(record, rowIndex) => {\r\n            return {\r\n              onClick: () => setSelectedCountry(record.country)\r\n            };\r\n          }}\r\n        />\r\n      </Sider>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","\r\nfunction linearRegression(values_x, values_y){\r\n\tvar lr = {};\r\n\tvar n = values_y.length;\r\n\tvar sum_x = 0;\r\n\tvar sum_y = 0;\r\n\tvar sum_xy = 0;\r\n\tvar sum_xx = 0;\r\n\tvar sum_yy = 0;\r\n\r\n\tfor (var i = 0; i < values_y.length; i++) {\r\n\r\n\t\t\tsum_x += values_x[i];\r\n\t\t\tsum_y += values_y[i];\r\n\t\t\tsum_xy += (values_x[i]*values_y[i]);\r\n\t\t\tsum_xx += (values_x[i]*values_x[i]);\r\n\t\t\tsum_yy += (values_y[i]*values_y[i]);\r\n\t} \r\n\r\n\tlr['slope'] = (n * sum_xy - sum_x * sum_y) / (n*sum_xx - sum_x * sum_x);\r\n\tlr['intercept'] = (sum_y - lr.slope * sum_x)/n;\r\n\tlr['r2'] = Math.pow((n*sum_xy - sum_x*sum_y)/Math.sqrt((n*sum_xx-sum_x*sum_x)*(n*sum_yy-sum_y*sum_y)),2);\r\n\r\n\treturn lr;\r\n}\r\n\r\nexport { linearRegression }","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}